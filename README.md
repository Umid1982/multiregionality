1. Описание проекта
   Название проекта: Мультирегиональный проект для работы с городами.

Описание: Этот проект предоставляет API для управления городами, включая создание, обновление и удаление записей о городах.

2. Установка
   Клонируйте репозиторий:

```bash
Копировать код
git clone https://github.com/Umid1982/multiregionality.git
cd yourproject
```
Установите зависимости:

```bash
Копировать код
composer install
```
Настройте файл .env и выполните миграции:

```bash
Копировать код
php artisan migrate
```
3. Использование
   Вы можете использовать проект через API и веб-интерфейс. Для этого отправляйте HTTP-запросы на указанные конечные точки или открывайте веб-страницы.

4. Документация API
   Контроллеры
   CityController

Метод: index

Описание: Отображает список городов и выбранный город.
Ответ: Возвращает представление welcome с данными о городах и выбранном городе.
Метод: store

Описание: Создает новый город.
Параметры:
name (string): Название города (обязательный).
Ответ: JSON-ответ с данными созданного города и сообщением.
Метод: destroy

Описание: Удаляет указанный город.
Параметры:
city (City): Модель города для удаления.
Ответ: JSON-ответ с сообщением об успешном удалении.
Метод: setCity

Описание: Устанавливает выбранный город в сессии и перенаправляет на главную страницу.
Параметры:
city (City): Модель выбранного города.
Ответ: Перенаправление на маршрут index.
MainController

Метод: about

Описание: Отображает информацию о проекте.
Ответ: Возвращает представление about с данными о выбранном городе.
Метод: news

Описание: Отображает новости.
Ответ: Возвращает представление news с данными о выбранном городе.
Сервисы
CityService
Метод: storeCity(CityDTO $cityDTO)

Описание: Обрабатывает логику сохранения города.
Параметры:
cityDTO (CityDTO): Объект DTO с данными о городе.
Возвращает: Созданный объект города.
Метод: deleteCity(City $city)

Описание: Удаляет город.
Параметры:
city (City): Объект города.
Возвращает: Результат операции удаления.
Репозитории
CityRepository
Метод: create(CityDTO $cityDTO)
Описание: Создает запись о городе в базе данных.
Параметры:
cityDTO (CityDTO): Объект DTO с данными о городе.
Возвращает: Созданный объект города.
5. DTO (Data Transfer Objects)
   CityDTO
   Свойства:
   name (string): Название города.
   slug (string): Уникальный идентификатор города (генерируется автоматически).
   Метод: __construct(public string $name)
   Описание: Конструктор, который принимает название города и генерирует слаг.
6. Парсинг городов
   Метод парсинга городов работает следующим образом:

Метод: handle
Описание: Получает список городов из API и сохраняет их в базе данных.
Логика:
Запрашивает данные о городах с помощью HTTP GET запроса к API.
Извлекает города России по ID 113.

Для каждого города генерирует слаг и использует метод updateOrInsert для создания или обновления записи в базе данных.
Сообщает о успешном завершении операции.
```bash
Копировать код
php artisan parse:cities russia  
```

7.Документация по тестированию API
1. Создание города
   URL: /api/v1/cities
   Метод: POST

   Заголовки:

Content-Type: application/json
Тело запроса:

json
```bash
Копировать код
{
"name": "Херсонская область"
}
```
Ожидаемый ответ:
```bash
Статус: 201 Created
Тело ответа:
json
Копировать код
{
"data": {
"id": 91,
"name": "Херсонская область",
"slug": "xersonskaia-oblast"
},
"message": "City created",
"success": true
}
```

2.Удаление города
URL: /api/v1/cities/{city}
Метод: DELETE

Описание:
Этот маршрут удаляет город по указанному идентификатору. Необходимо заменить {city} на фактический ID города, который вы хотите удалить.

Ожидаемый ответ:
```bash
Статус: 200 OK
Тело ответа:
json
Копировать код
{
"message": "City deleted",
"success": true
}
```
